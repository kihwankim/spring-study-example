# Kotin DSL

## 1. DSL과 Kotlin DSL 정의

### 정의

1 DSL

- 모든 문제를 범용적으로 풀어낼 수 있는 **범용프로그래밍 언어**와 특정 과업 또는 영역에 초점을 맞추고, 그 영역에 필요하지 않은 기능을 없앤 **영역 특화 언어**로 구분되었습니다
    - 범용 프로그래밍 언어 : C언어. Java ...etc
    - 영역 특화 언어: SQL, HTML ...etc

### 필요성

- API는 사물간의 접전 간의 상호작용하게 해주는 어떤 것을 모두 표현한 말입니다. 그리고 이 interface는 유지 보수가 코드의 품질을 결정 짓습니다
- 코드의 가독성과 유지 보수성을 증대 시키는 방법은, 불필요한 구문이 없이 간결하고, 이름과 개념이 명확해야 합니다. 그리고 자율적인 객체를 생성해야 합니다
- DSL은 특정 도메인에서 군더더기 없이 간단하게 선언적으로 API를 제공하기 떄문에 간결성과 가독성에 좋은 효과를 제공해줍니다

### 특징

1. DSL

- 영역 특화 언어는 범용 프로그래밍 언어와 달리 선언적인 프로그래밍 언어 입니다. 명령형은 연산이 완수하기 위해서 필요한 각 단계를 순서대로 정확하게 기술한 반면, 선언형은 원하는 결과만 기술, 세부사항은 숨깁니다
- DSL은 선언 적인 프로그래밍 언어 이므로 여러 범용 프고그래밍 언어와 같이 조합해서 사용하기에는 어려움이 존재합니다
- DSL을 사용하는 방법중 하나가 DSL문법을 String으로 표현해서 사용하는 방법이 있지만 컴파일 타임에러를 확인하기 어렵습니다. 이문제를 해결하기 위해서 범용 프로그래밍 언어는 **내부 DSL(아래 참고)**를 정의 해서 문제를 해결하였습니다


2. 내부 DSL 정의

- 범용 언어로 작성된 프로그래밍 언어의 일부이며, 범용과 동일한 문법을 제공합니다
- 프로그래밍 언어의 일부이기 때문에 컴파일 타임에 에러를 검출할 수 있습니다
  ex) JPA(SQL - java/kotlin) ... etc

3. Kotlin DSL

- Kotlin 에서 제공해고 있는 내부 DSL 입니다
- kotlin 에서는 확장함수, 중위함수, 람다 등을 통해서 간결한 코드를 작성할 수 있었습니다.
- Kotiln DSL은 위 간결한 코드를 활용해 더 간결하고 가독성을 증진 시키기 위해서 사용 되어 집니다
- kotlin에서는 DSL을 통해서 람다, 확장 함수 등 ... 과 같이 간결한 구문을 제공하는 기능에 의존하고 있으며, 이런 구문들을 여러개 호출해 조합해서 만드는 기능에 의존해고 있습니다.

### DSL 구조

- DSL과 범용 프로그래밍 언어는 경계는 주관적이기 때문에 모호 합니다
- DSL은 연산자 오버로딩 중위 호출과 같은 기능에 의존하기도 합니다
- Kotlin DSL은 람다를 중첩시키거나, 메서드 호출을 연쇄시키는 방식으로 구조를 만듭니다